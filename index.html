<!DOCTYPE html>
<html>
  <head>
    <title>Lunch 2014 Infographic</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
    <script src="events.json"></script>
    <script src="categories.json"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.js"></script>
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.5.0/lodash.min.js"></script>
    <style>
      body {
        background: #181818;
        font-family: 'Open Sans', 'Lucida Grande', sans-serif;
        margin: 1em auto 4em;
        width: 960px;
      }

      header {
        color: white;
        text-align: left;
      }

      header h1 {
        font-weight: lighter;
        font-size: 60px;
        margin: 0;
        padding-left: 16px;
      }

      .chart rect {
        fill: #7CAFC2;
        cursor: pointer;
      }

      .chart.locked rect {
        transition: fill .1s;
        fill: #383838;
      }

      .chart .frontend rect,
      .legend rect.frontend
      {
        fill: #BA8BAF;
      }

      .chart .backend rect,
      .legend rect.backend
      {
        fill: #7CAFC2;
      }

      .chart .devops rect,
      .legend rect.devops
      {
        fill: #585858;
      }

      .chart .process rect,
      .legend rect.process
      {
        fill: #A16946;
      }

      .chart .tech rect,
      .legend rect.tech
      {
        fill: #A1B56C;
      }

      .chart .theory rect,
      .legend rect.theory
      {
        fill: #DC9656;
      }

      .chart .topical rect,
      .legend rect.topical
      {
        fill: #AB4642;
      }

      .chart text {
        fill: white;
        font: 10px sans-serif;
        text-anchor: end;
      }

      .axis path,
      .axis line {
        fill: none;
        stroke: white;
        shape-rendering: crispEdges;
      }

      .x.axis path,
      .y.axis path
      {
        display: none;
      }

      .data-tip {
        line-height: 1;
        font-weight: lighter;
        font-size: 12px;
        padding: 12px;
        background: rgba(60, 60, 60, 0.95);
        color: #fff;
        border-radius: 2px;
      }

      .data-tip:after {
        box-sizing: border-box;
        display: inline;
        font-size: 10px;
        width: 100%;
        line-height: 1;
        color: rgba(60, 60, 60, 0.95);
        content: "\25BC";
        position: absolute;
        text-align: center;
      }

      .data-tip.n:after {
        margin: -1px 0 0 0;
        top: 100%;
        left: 0;
      }

      .legend text {
        text-anchor: start;
      }

      .chart-controls {
        color: white;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Chadev+Lunch 2014</h1>
    </header>
    <section class="chart-information">
      <svg id="bar-chart" class="chart">
      </svg>
    </section>
    <section class="chart-information">
      <svg id="histogram" class="chart"></svg>
    </section>
    <script>
      (function() {
        d3.json("events.json", function(error, events) {
          if (error) return console.warn(error);

          d3.json("categories.json", function(catsError, cats) {
            if (catsError) return console.warn(catsError);

            BarChart.render(events, cats);
            Histogram.render(events, cats)
          });
        });
      })();
    </script>
    <script src="bar_chart.js"></script>
    <script src="histogram.js"></script>
  </body>
</html>
